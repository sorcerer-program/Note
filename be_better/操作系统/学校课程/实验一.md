---
date: 2025-10-09
tags:
  - 操作系统
---
选择合适平台工具，搭建环境，能够对Linux0.11内核进行编译，并在模拟器 中运行。
## 为什么要在Linux环境中编译
Linux0.11的编译依赖老式工具链，所以我们需要“搭建环境”
==造一个虚拟的老电脑+老编译器组合，在里面重现Linux0.11的世界==
## 什么是模拟器？它和虚拟机、虚拟计算机的关系是什么？
模拟器就是一段程序，用软件的方式，假装自己是一台电脑
**模拟器从软件层“重新实现”一台计算机的硬件接口**
![[Pasted image 20251009090120.png]]
模拟器 ∈ 虚拟计算机
虚拟机 ∈ 虚拟计算机

模拟器注重“仿真旧硬件”（比如 80386）；
虚拟机注重“隔离现代系统”（比如运行另一个 Linux）。
## 实验操作
### 阶段1：环境选择与准备
虚拟机是实验的“实验室”+模拟器是实验室里面的“老机器”
QEMU是一个开源的计算机系统模拟器和虚拟化工具，它既可以当模拟器，也可以当虚拟机

|模式|名称|QEMU 的角色|特点|
|---|---|---|---|
|**纯软件模拟模式**|`qemu-system-i386`（默认）|🧪 模拟器|不依赖硬件，能模拟 386 等老 CPU，速度慢但兼容性强|
|**KVM 加速模式**|`qemu-system-x86_64 -enable-kvm`|⚡ 虚拟机|利用 CPU 的虚拟化扩展，速度接近原生系统|
win直接运行qemu，理论可以，但
- 环境配置（编译器、工具链）不太方便；
- 一些脚本或 Makefile 是为 Linux 写的；
- 而 Linux 下的文件系统、命令行工具（如 `make`, `gcc`, `as`）都更原生。
所以选择 ==Windows（宿主） ➜ 虚拟机（运行 Linux） ➜ QEMU（运行 Linux0.11）==

|层次|工具|功能|对应操作/步骤|为什么|
|---|---|---|---|---|
|**第一层：宿主系统**|Windows 11|主系统，不动 Windows 内核|安装 VMware Player|提供安全环境，管理虚拟机资源，不影响 Windows|
|**第二层：虚拟机**|Ubuntu（虚拟机里安装）|Linux 开发环境|在 VMware Player 中创建虚拟机 → 安装 Ubuntu → 配置工具链|Linux 提供 gcc、make、nasm、shell 等工具，便于编译和运行 QEMU|
|**第三层：模拟器**|QEMU（虚拟机里的 Linux 安装）|运行 Linux 0.11 内核镜像|在 Ubuntu 里安装 qemu-system-i386 → 用它加载 Linux 0.11 内核镜像|精确模拟 386 CPU、老 BIOS、实模式启动，让 Linux 0.11 能启动并运行|
