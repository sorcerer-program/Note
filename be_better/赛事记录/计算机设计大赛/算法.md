“赏”模块围绕内容推荐与协同过滤算法的融合策略，构建了一个兼顾精准性、个性化与系统性能的书法作品智能推荐系统。

系统实时采集用户的浏览、点赞、收藏等行为数据，并借助 Kafka 消息队列实现高吞吐量的行为日志传输。随后，利用 Flink 等流处理框架对数据进行清洗、聚合与预处理，构建包含字体风格、书法家、朝代、书写工具等多维度特征的用户兴趣画像。在特征工程阶段，系统通过编码和向量化的方式，对用户兴趣与作品属性进行统一表示，形成实时更新的用户兴趣模型。

在推荐算法层面，系统融合了基于内容的推荐与协同过滤两类方法。基于内容的推荐通过计算用户画像与作品特征之间的相似度（余弦相似度），精准捕捉用户的显性兴趣；协同过滤推荐则基于用户-作品交互矩阵，结合用户近邻算法与矩阵分解技术（ALS），挖掘用户间的潜在偏好联系，增强系统的泛化能力与个性化效果。两类推荐结果通过加权融合策略统一排序，兼顾推荐的准确性与发现性。

为提升推荐内容的多样性与新颖性，系统引入了随机采样与探索机制，有效打破“信息茧房”问题；同时，借助去重算法与内容冷却策略，避免重复推荐与内容老化。此外，系统结合 Redis 缓存机制，提升推荐响应效率，实时捕捉用户最新兴趣反馈，增强推荐的时效性与适应能力。

“寻”模块围绕多维组合搜索、缓存加速机制与用户兴趣标注构建了一个高性能、高可用的书法作品检索系统，旨在满足用户对书法范字的精准查找与个性化呈现需求。

系统支持按汉字、书法家、字体风格、朝代等多个维度进行灵活组合查询，借助参数封装与规范化索引策略，构建统一的检索入口。为保障查询的低延迟与高并发响应能力，系统基于 Redis 实现查询结果的缓存优化：通过精细设计的 Key 构建方式（包含搜索条件与分页参数），有效提升缓存命中率，并结合布隆过滤与空值缓存策略防止缓存穿透问题。在查询流程中，系统采用“缓存优先、数据库兜底”的逻辑路径。命中缓存时，直接从 Redis 中获取 JSON 格式结果并反序列化为业务对象；未命中时，则基于 MyBatis 与分页组件 PageHelper 从数据库中精确提取数据，并将结果同步写入缓存，实现自动“以查促建”的动态缓存机制。

用户个性数据同步也是该模块的关键特性之一。系统在返回检索结果时，基于用户登录状态与收藏记录，实时标注“是否已收藏”等状态信息，增强用户参与感与界面交互性。此外，系统引入“猜你想搜”智能提示机制，结合用户画像，提升检索引导能力与探索体验。

在性能与可扩展性方面，系统通过缓存续期机制与冷数据淘汰策略，确保数据实时性与缓存空间合理利用。同时还利用HTML5 Canvas 技术，动态绘制规范的米字格书写参考框架，辅助用户理解汉字结构与笔画布局。整个模块兼顾搜索效率、系统资源负载与用户体验。

“摹”模块围绕字帖推荐和定制，结合多种图像处理技术，如图像阈值化、平滑处理（高斯模糊）、边缘检测和轮廓提取等，打造了一个高个性化的字帖生成器。

字帖推荐方面，系统通过用户画像数据（字体偏好、难度等级、书写工具类别等）动态生成推荐参数，调用不同的字帖生成服务。推荐参数封装为 DTO，便于灵活扩展和维护。推荐模块设计采用“用户偏好优先，随机兜底”的策略。当用户偏好数据缺失时，系统通过随机算法在预设字体与书写工具范围内生成字帖请求。

字帖定制方面，系统支持对字体、大小、书写工具、结构、难度、描红、跟写等多维调节，实现丰富的定制化输出。 系统能够基于真迹范字定制字帖，和“寻”模块紧密联系，通过判断真迹图片底色来选择合适的参数进行图像处理（平滑因子、最小去噪面积等）。

字帖PDF 生成采用 Python 脚本异步调用机制，结合文件系统动态管理和用户目录隔离，保证生成过程的稳定性和文件安全性。进程调用返回码和文件有效性双重校验确保最终产物的完整和正确。日志追踪机制贯穿全流程，提升问题排查效率。结合异步任务管理和多线程处理提高系统响应速度和稳定性。

“评模块”是手写字迹评分系统，围绕图像预处理、特征提取与深度学习评估构建了一个高效、智能的评分框架，旨在提供精确、全面的手写字评价与个性化改进建议。

系统首先

通过 OpenCV 和 PIL 实现图像的多维处理，包括二值化、骨架化、前景裁剪等技术，以提取手写字与标准字的关键特征。通过采用结构相似度（SSIM）与 ORB 特征匹配算法，系统精确计算字形结构、笔画与整体的相似度（SSIM得分占35%，ORB得分占20%）。此外，确保评分的全面与准确性，系统结合DeepSeek深度学习模型，通过压缩传参（边界框、质心坐标、长宽比、面积、周长等）对手写字进行全面评估（得分占45%），生成结构、笔画和整体三项评分，并提供具体的改进建议。

同时，为更好地引导用户临摹，系统引入了 YOLOv8 目标检测模型 对范字进行关键点识别，自动标注“起、承、转、合”等笔势要点，使用户在书写时能够聚焦关键结构变化，提升练习效率与字形还原度。

论坛交流功能模块支持用户发帖、评论、浏览与点赞等操作，构建起良好的互动社区氛围。用户可以发布帖子，并进行一级评论或回复他人评论（二级评论），实现多层次的讨论交流。帖子浏览支持按时间顺序或按热度排序，其中热度排序利用 Redis 的 ZSet（有序集合）结构实现，对帖子进行动态评分和排序；点赞功能通过 Redis 的 Set 类型判断用户是否已点赞，实现快速判重与高效存取。系统还内置屏蔽词过滤功能，在用户发布内容时自动检测并过滤敏感词汇，确保平台内容健康、文明。该模块结合了关系型数据库与 Redis 的特点，兼顾数据持久性与访问性能。