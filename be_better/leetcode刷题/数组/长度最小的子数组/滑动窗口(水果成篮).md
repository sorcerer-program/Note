---
date: 2024-10-31
tags:
  - 算法
  - 滑动窗口
  - leetcode904
---
# 滑动窗口(水果成篮)
## 题目
![[leetcode904.png]]
## 理解
> 扩大和缩小

如果满足要求，那就扩大右边界
如果不满足要求，就缩小左边界

怎么判断是否满足要求呢？种类数量，实现方法是用一个数组来存放每种水果放在篮子里的数量

同样存在while和if的选择，缩小时采用的是while，原因左边可能存在连续的并且内容一致的，要一直缩小到满足条件。
## 解答
```c
int totalFruit(int* fruits, int fruitsSize) {

    int basket[100001] = {0}; //记录每种水果的数量

    int left = 0, right = 0;

    int max_num = 0, unique_num = 0;

    while(right < fruitsSize){

        //如果没有被放入篮子，就将它添加到篮子中

        if(basket[fruits[right]] == 0) unique_num++;

        basket[fruits[right]]++;

        right++;

  

        //当篮子中水果种类超过2时，移动左边界

        while(unique_num > 2){

            basket[fruits[left]]--;

            if(basket[fruits[left]] == 0) unique_num--;

            left++;

        }

  

        //更新最大水果数量

        max_num = (right - left > max_num) ? (right - left) : max_num;

    }

    return max_num;

}
```

对比参照[[滑动窗口(长度最小的子数组)]]