---
date: 2024-07-23
tags:
  - 二分查找
  - 数组
  - 算法
  - leetcode367
---

# 二分查找(有效的完全平方数)

## 题目
![[leetcode367.png]]
## 理解关键点

这道题主要是防止溢出 `long long ride = (long long)middle * middle`  ，还有就是  `int middle = right - (right - left)/2`  ，要思考的点在于，什么时候用 `right - (right - left)/2`  代替  `(right + left)/2`  ，注意根据具体题目判断是否会越 `int` 界

## 解答

```c
bool isPerfectSquare(int num) {
    if (num < 1) return false;  // 排除非正数的情况
    int left = 1;
    int right = num;
    while(left <= right){
        int middle = right - (right - left)/2;
        long long ride = (long long)middle * middle;
        if(ride == num){
            return true;
        }else if(ride < num){
            left = middle + 1;
        }else{
            right = middle - 1;
        }
    }
    return false;
}
```

对比分析[[二分查找(基础)]]


